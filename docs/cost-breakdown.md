# Shadow Speaking · 费用清单

> 版本：v2.1
> 更新日期：2026-02-18
> AI 服务统一使用 MiniMax（minimaxi.com），认证自建，零第三方 SaaS 依赖

---

## 一、费用构成总览

整个项目只有三类费用来源：

| 类别 | 服务 | 计费方式 |
|------|------|---------|
| 基础设施 | Cloudflare（Workers + D1 + R2 + KV） | 固定月费 + 按量超额 |
| AI 能力 | MiniMax API（TTS + LLM） | 套餐 + 按量 |
| 域名 | Cloudflare Registrar | 年费 |

没有认证服务费（自建），没有其他第三方订阅。

---

## 二、Cloudflare 平台费用

### 2.1 基础套餐（固定费用）

| 服务 | 月费 | 包含额度 |
|------|------|---------|
| Workers + Pages + D1 + KV + Cron | **$5/月** | Workers 10M 请求 + 30M CPU-ms；D1 25B 行读 + 50M 行写 + 5 GB 存储；KV 10M 读 + 1M 写 + 1 GB |

这 $5 是固定底价，不论有没有用户。

### 2.2 R2 对象存储

| 计费项 | 单价 | 免费额度 |
|-------|------|---------|
| 存储 | $0.015/GB·月 | 10 GB/月 |
| 写入操作（Class A） | $4.50/百万次 | 100 万次/月 |
| 读取操作（Class B） | $0.36/百万次 | 1000 万次/月 |
| **出口流量** | **$0** | **无限** |

R2 的零出口费是核心优势——音频文件被用户反复播放，流量完全免费。

### 2.3 超额单价速查

| 服务 | 超额单价 |
|------|---------|
| Workers 请求 | $0.30/百万请求 |
| D1 行写入 | $1.00/百万行 |
| D1 存储 | $0.75/GB·月 |
| KV 写入 | $5.00/百万次 |

---

## 三、MiniMax API 费用

### 3.1 TTS 语音合成（Speech-02-Turbo）

MiniMax 中文平台（minimaxi.com）的 TTS 采用**套餐制**计费：

| 套餐 | 价格 | 包含字符数 | 有效费率 | 约合 USD |
|------|------|-----------|---------|---------|
| Turbo 月包 | ¥360/月 | 200 万/月 | ¥0.18/千字符 | $0.025/千字符 |
| Turbo 季包 | ¥3,400/3 月 | 2000 万/3 月 | ¥0.17/千字符 | $0.024/千字符 |
| Turbo 年包 | ¥32,000/年 | 2 亿/年 | ¥0.16/千字符 | $0.022/千字符 |

> 汇率按 1 USD ≈ 7.2 CNY。最小购买单位为月包（¥360/月 ≈ $50/月），冷启动期即使用量不足也需支付此底价。

本项目的 TTS 用法：每条语料生成 3 个语速版本（慢速/常速/快速）。

单条语料的 TTS 成本计算（按月包费率）：

```
一个英文句子平均 ≈ 80 个字符
3 个语速版本 = 80 × 3 = 240 字符
单条成本 = 240 / 1000 × $0.025 = $0.006
```

**约 167 条语料的 TTS 生成花费 $1。**

### 3.2 LLM 文本处理（MiniMax-M2.5）

| 计费项 | 单价 |
|-------|------|
| 输入 tokens | $0.30/百万 tokens |
| 输出 tokens | $1.10/百万 tokens |

本项目的 LLM 用法：每条语料入库时调用一次，完成难度评定 + 中文释义 + 断句 + 语音标注 + 遮盖词 + 主题标签 + 表达提示。

单条语料的 LLM 成本计算：

```
Prompt（系统指令 + 英文原句）≈ 400 输入 tokens
Response（JSON 结构化输出）≈ 300 输出 tokens
单条成本 = (400 / 1M × $0.30) + (300 / 1M × $1.10)
         = $0.00012 + $0.00033
         = $0.00045
```

**约 2,200 条语料的 LLM 处理花费 $1。**

### 3.3 单条语料 AI 成本汇总

| 项目 | 单条成本 | 占比 |
|------|---------|------|
| TTS（3 语速） | $0.006 | 93% |
| LLM（预处理） | $0.00045 | 7% |
| **合计** | **$0.00645** | 100% |

**TTS 是单条语料 AI 成本的绝对大头**，是 LLM 的 13 倍。

### 3.4 MiniMax 免费额度

新账号注册有初始赠送额度（具体金额以平台当前政策为准），可覆盖早期开发调试。

---

## 四、域名费用

| 项目 | 费用 |
|------|------|
| .com 域名（Cloudflare Registrar） | ~$10-12/年 |
| SSL 证书 | $0（Cloudflare 自动提供） |
| CDN 加速 | $0（Cloudflare 自动提供） |

---

## 五、分规模费用明细

### 计算假设

| 参数 | 值 | 说明 |
|------|------|------|
| 日活率 | 30% | DAU = 总用户 × 30% |
| 每用户月均新增语料 | 30 条 | 约每天 1 条 |
| 每条语料字符数 | 80 字符 | 一个英文句子 |
| 每日练习条数 | 10 条 | 按 20 分钟设定 |
| 每条练习录音 | 7 段 × 40 KB = 280 KB | WebM/Opus 编码 |
| 每条 TTS 音频 | 3 个语速 × 50 KB = 150 KB | MP3 格式 |
| TTS 费率 | $0.025/千字符 | MiniMax Turbo 月包费率 |
| TTS 最低消费 | $50/月 | 月包最低 ¥360 |

---

### 冷启动期（< 100 用户）

| 费用项 | 月费用 | 说明 |
|-------|-------|------|
| Cloudflare 基础 | $5.00 | 固定 |
| R2 存储 | $0.00 | 不到 1 GB，免费额度内 |
| R2 操作 | $0.00 | 免费额度内 |
| MiniMax TTS | $50.00 | 月包最低消费 ¥360（实际用量 3K 条 × 240 字符 = 72 万字符，远小于 200 万上限） |
| MiniMax LLM | $1.35 | 100 × 30 × $0.00045 |
| 域名 | $0.90 | $10.8/年分摊 |
| **合计** | **~$57/月** | 约 ¥410 |

### 成长期（1,000 用户）

| 费用项 | 月费用 | 计算 |
|-------|-------|------|
| Cloudflare 基础 | $5.00 | 固定 |
| R2 存储 | $0.00 | 累积约 5 GB，免费额度内 |
| R2 操作 | $0.00 | 300 DAU × 10 条 × 7 录音 = 63 万写入/月，免费覆盖 |
| Workers 请求 | $0.00 | 300 DAU × 50 请求 × 30 天 = 45 万/月，远在 10M 内 |
| MiniMax TTS | $180.00 | 1000 × 30 条 × 240 字符 = 720 万字符/月，$0.025/千字符 |
| MiniMax LLM | $13.50 | 1000 × 30 × $0.00045 |
| 域名 | $0.90 | |
| **合计** | **~$199/月** | 约 ¥1,433 |

### 规模期（10,000 用户）

| 费用项 | 月费用 | 计算 |
|-------|-------|------|
| Cloudflare 基础 | $5.00 | 固定 |
| R2 存储 | $0.60 | 累积约 50 GB，超出免费 10 GB，40 GB × $0.015 |
| R2 操作（写入超额） | $4.05 | 3000 DAU × 10 × 7 × 30 = 630 万/月，超额 530 万 × $4.50/M |
| Workers 请求 | $1.50 | 3000 × 50 × 30 = 450 万，峰值可达 15M，超额 5M × $0.30 |
| MiniMax TTS | $1,800.00 | 10000 × 30 × 240 字符 = 7200 万/月（需购买多个套餐或申请大客户定价） |
| MiniMax LLM | $135.00 | 10000 × 30 × $0.00045 |
| 域名 | $0.90 | |
| **合计** | **~$1,947/月** | 约 ¥14,018 |

### 大规模（50,000 用户）

| 费用项 | 月费用 | 计算 |
|-------|-------|------|
| Cloudflare 基础 | $5.00 | 固定 |
| R2 存储 | $3.00 | ~210 GB，超额 200 GB |
| R2 操作 | $20.00 | 录音写入约 4.7M/月超额 |
| Workers 请求 | $7.50 | 峰值约 75M，超额 65M |
| MiniMax TTS | $9,000.00 | 50000 × 30 × 240 = 3.6 亿字符/月（需大客户定价，此处按标准费率估算） |
| MiniMax LLM | $675.00 | 50000 × 30 × $0.00045 |
| 域名 | $0.90 | |
| **合计** | **~$9,711/月** | 约 ¥69,919 |

---

## 六、费用大头分析

```
                    <100     1K 用户    10K 用户    50K 用户
                    ──────   ────────   ────────    ────────
MiniMax TTS          88%      90%        92%         93%
MiniMax LLM           2%       7%         7%          7%
Cloudflare 基础       9%       3%        <1%         <1%
R2 存储+操作          0%       0%        <1%         <1%
Workers 请求超额      0%       0%        <1%         <1%
域名                  2%      <1%        <1%         <1%
```

**结论：MiniMax TTS 是绝对的费用大头**，在所有规模下都占 88% 以上。LLM 费用仅占 2~7%。

核心原因：每条语料需要生成 3 个语速版本的音频，字符消耗是 LLM 的上百倍量级，而 TTS 单价又远高于 LLM。

---

## 七、成本优化策略

由于 TTS 占绝对大头（88~93%），优化重点围绕减少 TTS 调用：

### 7.1 高优先级优化（强烈建议）

| 策略 | 预计效果 | 说明 |
|------|---------|------|
| **客户端变速播放** | **TTS 费用 -67%** | **最关键优化**。只生成 1 个常速 TTS 音频，慢速和快速通过 Web Audio API 的 `playbackRate` 在客户端实时调整。语音质量对学习足够，省去 2/3 的 TTS 调用 |
| **TTS 去重** | TTS 费用 -20~40% | 多用户输入相同句子时（尤其冷启动语料包），R2 中共享同一音频文件，按句子内容 hash 去重 |
| **冷启动语料预生成** | 新用户 TTS+LLM 成本归零 | 预置语料包的所有音频和分析结果在部署时预生成，不走实时 API |

### 7.2 中优先级优化

| 策略 | 预计效果 | 说明 |
|------|---------|------|
| **LLM 批处理** | LLM 费用 -30~50% | 合并多条句子为一次 LLM 调用，减少系统指令重复 |
| **降级 LLM 模型** | LLM 费用 -60% | 预处理任务可用更轻量模型（如 MiniMax-M2.1） |
| **录音压缩** | R2 存储 -50% | 客户端录音使用 16kbps Opus |

### 7.3 优化后估算

采用「客户端变速播放 + TTS 去重 + 冷启动预生成」后的预估：

**TTS 从 3 次/条降为 1 次/条**，单条 TTS 成本：80 / 1000 × $0.025 = **$0.002**

| 规模 | 优化前 | 优化后（预估） | 降幅 |
|------|-------|-------------|------|
| < 100 用户 | ~$57/月 | ~$50/月 | -12%（受最低套餐限制） |
| 1,000 用户 | ~$199/月 | ~$80/月 | -60% |
| 10,000 用户 | ~$1,947/月 | ~$560/月 | -71% |
| 50,000 用户 | ~$9,711/月 | ~$2,800/月 | -71% |

> 优化后费用 = TTS（1 语速 × 去重 70%）+ LLM + Cloudflare + 域名

---

## 八、与上一版方案的对比

| 对比项 | 上版（Clerk + Workers AI + 外部 LLM） | 本版（自建认证 + MiniMax 统一） |
|-------|--------------------------------------|-------------------------------|
| 认证费用 | 免费~$825/月（按用户规模增长） | $0（自建） |
| TTS 费用 | ~$5-120/月（Workers AI） | ~$50-9,000/月（MiniMax，未优化） |
| TTS 费用（优化后） | — | ~$50-2,100/月（客户端变速 + 去重） |
| LLM 费用 | ~$10-300/月（外部 API） | ~$1.35-675/月 |
| 外部依赖数 | 3 个（Clerk + Cloudflare Workers AI + OpenAI/Claude） | 1 个（MiniMax） |
| 需管理的 API Key | 2 组（Clerk Key Pair + LLM API Key） | 1 个（MINIMAX_API_KEY，TTS 和 LLM 共用） |
| 1K 用户总费用 | ~$21/月 | ~$199/月（未优化）/ ~$80/月（优化后） |
| 10K 用户总费用 | ~$102/月 | ~$1,947/月（未优化）/ ~$560/月（优化后） |
| 50K 用户总费用 | ~$1,302/月 | ~$9,711/月（未优化）/ ~$2,800/月（优化后） |

**关键差异：**
- **TTS 成本是本版最大劣势**：MiniMax TTS 单价远高于 Workers AI 内置 TTS，导致未优化时总费用大幅高于上版
- **客户端变速播放是必做优化**：实施后可将 TTS 费用降低 67%，使万级以下成本回到可控范围
- 优化后 1K 用户时本版（~$80）vs 上版（~$21）仍贵约 4 倍，但获得了架构简洁（1 个 API 依赖 vs 3 个）
- 五万级用户时优化后本版（~$2,800）vs 上版（~$1,302），成本约 2 倍，但上版的 Clerk 费用占大头且不可控
- **本版最大优势仍是架构简洁**：只有一个外部 API 依赖（MiniMax），一个 API Key

**建议**：如果成本敏感度高，可考虑混合方案——LLM 用 MiniMax，TTS 用 Cloudflare Workers AI 或其他更便宜的方案。

---

## 九、一句话总结

| 规模 | 月费用（未优化） | 月费用（优化后） | 约合人民币（优化后） |
|------|---------------|---------------|-------------------|
| 0-100 用户 | ~$57 | ~$50 | ~¥360 |
| 1,000 用户 | ~$199 | ~$80 | ~¥576 |
| 10,000 用户 | ~$1,947 | ~$560 | ~¥4,032 |
| 50,000 用户 | ~$9,711 | ~$2,800 | ~¥20,160 |

**客户端变速播放是必做优化**，可将 TTS 费用降低 67%。MVP 验证阶段（<100 用户），月费约 ¥360，零第三方 SaaS 依赖。
